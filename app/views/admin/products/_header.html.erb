<div class="tab-header stickable">
  <div class="l-constraint">
    <% if @product.persisted? %>
        <%= link_to "< Return to Products List", admin_products_path, class: "redundant-nav" %>
        <%= link_to raw('<i class="fa fa-trash-o">&nbsp;</i>'), [:admin, @product],
                    class: "delete product-header-delete font-icon",
                    data: {method: :delete, confirm: "Are you sure you want to permanently delete #{@product.plural_units_with_name}?"},
                    title: "Delete" %>
        <div class="l-page-header">
          <h1>Update <%= @product.name %></h1>
        </div>
    <% else %>
        <%= link_to "< Return to Products List", admin_products_path, class: "redundant-nav" %>
        <div class="l-page-header">
          <h1>Add Product</h1>
        </div>
    <% end %>

    <div class="tabs-wrapper">
      <ul class="tabs">
        <% if @product.persisted? %>
            <%= content_tag(:li, link_to_or_span("Product Info", [:admin, @product]), class: "completed tab") %>
            <%= content_tag(:li, link_to_or_span("Inventory", [:admin, @product, :lots]),
                            id: 'product-inventory-nav', class: (inventory_tab_complete? ? 'completed tab' : 'tab')) %>
            <%= content_tag(:li, link_to_or_span("Pricing", [:admin, @product, :prices]),
                            id: 'product-pricing-nav', class: (pricing_tab_complete? ? 'completed tab' : 'tab')) %>
        <% else %>
            <li class="tab"><span>Product Info</span></li>
            <%= content_tag :li, raw('<span class="is-disabled" data-error="Save this product to add inventory.">Inventory</span>'),
                            id: 'product-inventory-nav', class: 'tab' %>
            <%= content_tag :li, raw('<span class="is-disabled" data-error="Save this product to add pricing.">Pricing</span>'),
                            id: 'product-pricing-nav', class: 'tab' %>
        <% end %>
      </ul>
    </div>

  </div>
</div>
