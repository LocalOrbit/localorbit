<?

class core_test_20401 extends core_test
{
	function run()
	{
$data = array(
	'?_reqtime'=>'1346100654',
	'name'=>'_01 - [*] - temp',
	'detailed_name'=>'Testing Hub Z01',
	'hostname'=>'testingz01.localorb.it',
	'tz_id'=>'1',
	'do_daylight_savings'=>'1',
	'is_live'=>'0',
	'is_closed'=>'0',
	'show_on_homepage'=>'0',
	'autoactivate_organization'=>'0',
	'dt_delivery_days_resizer'=>'-1',
	'checkall_deliverydays'=>'0',
	'checkall_deliverydays_50'=>'0',
	'checkall_deliverydays_51'=>'0',
	'checkall_deliverydays_52'=>'0',
	'cycle'=>'weekly',
	'day_ordinal'=>'',
	'day_nbr'=>'1',
	'hours_due_before'=>'24',
	'deliv_address_id'=>'0',
	'delivery_start_time'=>'0',
	'delivery_end_time'=>'0',
	'pickup_address_id'=>'0',
	'pickup_start_time'=>'0',
	'pickup_end_time'=>'0',
	'dd_id'=>'',
	'dashboard_note'=>'',
	'bubble_offset'=>'0',
	'custom_tagline'=>'',
	'logo_image'=>'',
	'email_image'=>'',
	'secondary_contact_name'=>'',
	'secondary_contact_email'=>'',
	'secondary_contact_phone'=>'',
	'closed_note'=>'',
	'market_profile'=>'',
	'market_policies'=>'',
	'buyer_types_description'=>'',
	'support_option'=>'lo_managed',
	'custom_zendesk'=>'0',
	'profile'=>'',
	'dt_addresses_resizer'=>'-1',
	'checkall_addresses'=>'0',
	'checkall_addresses_1058'=>'0',
	'default_billing_1058'=>'0',
	'default_shipping_1058'=>'0',
	'checkall_addresses_1060'=>'0',
	'default_billing_1060'=>'1',
	'default_shipping_1060'=>'0',
	'checkall_addresses_1059'=>'0',
	'default_billing_1059'=>'0',
	'default_shipping_1059'=>'0',
	'label'=>'',
	'address'=>'',
	'city'=>'',
	'region_id'=>'0',
	'postal_code'=>'',
	'telephone'=>'',
	'fax'=>'',
	'delivery_instructions'=>'',
	'latitude'=>'',
	'longitude'=>'',
	'address_id'=>'',
	'order_minimum'=>'0',
	'fee_percen_lo'=>'10.00',
	'fee_percen_hub'=>'5.00',
	'paypal_processing_fee'=>'3.00',
	'hub_covers_fees'=>'0',
	'payment_allow_paypal'=>'1',
	'payment_allow_purchaseorder'=>'1',
	'po_due_within_days'=>'0',
	'payment_default_paypal'=>'1',
	'payment_default_purchaseorder'=>'0',
	'seller_payer_lo'=>'0',
	'seller_payer_hub'=>'1',
	'buyer_invoicer_lo'=>'0',
	'buyer_invoicer_hub'=>'1',
	'accept_products_from_1'=>'0',
	'accept_products_from_28'=>'0',
	'accept_products_from_29'=>'0',
	'accept_products_from_2'=>'0',
	'accept_products_from_3'=>'0',
	'accept_products_from_4'=>'0',
	'accept_products_from_5'=>'0',
	'accept_products_from_6'=>'0',
	'accept_products_from_7'=>'0',
	'accept_products_from_8'=>'0',
	'accept_products_from_9'=>'0',
	'accept_products_from_10'=>'0',
	'accept_products_from_11'=>'0',
	'accept_products_from_22'=>'0',
	'accept_products_from_12'=>'0',
	'accept_products_from_13'=>'0',
	'accept_products_from_14'=>'0',
	'accept_products_from_15'=>'0',
	'accept_products_from_16'=>'0',
	'accept_products_from_17'=>'0',
	'accept_products_from_18'=>'0',
	'accept_products_from_19'=>'0',
	'accept_products_from_20'=>'0',
	'accept_products_from_21'=>'0',
	'accept_products_from_23'=>'0',
	'accept_products_from_24'=>'0',
	'accept_products_from_25'=>'1',
	'accept_products_from_26'=>'0',
	'accept_products_from_27'=>'0',
	'accept_products_from_30'=>'0',
	'feature_require_seller_all_delivery_opts'=>'0',
	'feature_force_items_to_soonest_delivery'=>'0',
	'feature_sellers_enter_price_without_fees'=>'0',
	'feature_sellers_cannot_manage_cross_sells'=>'0',
	'feature_sellers_mark_items_delivered'=>'1',
	'save'=>'',
	'domain_id'=>'26',
	'org_id'=>'1014',
	'do_redirect'=>'1',
);

		$req = core_test_request::do_request('market/save',$data);
		if (!$req->notified('hub saved')) {
			return $this->fail('Does not save temp hub information correctly.');
		}
 		if (core_test_request::do_request('market/edit', array('domain_id' => 26))->not_contains('_01 - [*] - temp')) {
			return $this->fail('Does not save temp hub information correctly.');
		}	
$data = array(
	'?_reqtime'=>'1346100654',
	'name'=>'Z01 - [*]',
	'detailed_name'=>'Testing Hub Z01',
	'hostname'=>'testingz01.localorb.it',
	'tz_id'=>'1',
	'do_daylight_savings'=>'1',
	'is_live'=>'0',
	'is_closed'=>'0',
	'show_on_homepage'=>'0',
	'autoactivate_organization'=>'0',
	'dt_delivery_days_resizer'=>'-1',
	'checkall_deliverydays'=>'0',
	'checkall_deliverydays_50'=>'0',
	'checkall_deliverydays_51'=>'0',
	'checkall_deliverydays_52'=>'0',
	'cycle'=>'weekly',
	'day_ordinal'=>'',
	'day_nbr'=>'1',
	'hours_due_before'=>'24',
	'deliv_address_id'=>'0',
	'delivery_start_time'=>'0',
	'delivery_end_time'=>'0',
	'pickup_address_id'=>'0',
	'pickup_start_time'=>'0',
	'pickup_end_time'=>'0',
	'dd_id'=>'',
	'dashboard_note'=>'',
	'bubble_offset'=>'0',
	'custom_tagline'=>'',
	'logo_image'=>'',
	'email_image'=>'',
	'secondary_contact_name'=>'',
	'secondary_contact_email'=>'',
	'secondary_contact_phone'=>'',
	'closed_note'=>'',
	'market_profile'=>'',
	'market_policies'=>'',
	'buyer_types_description'=>'',
	'support_option'=>'lo_managed',
	'custom_zendesk'=>'0',
	'profile'=>'',
	'dt_addresses_resizer'=>'-1',
	'checkall_addresses'=>'0',
	'checkall_addresses_1058'=>'0',
	'default_billing_1058'=>'0',
	'default_shipping_1058'=>'0',
	'checkall_addresses_1060'=>'0',
	'default_billing_1060'=>'1',
	'default_shipping_1060'=>'0',
	'checkall_addresses_1059'=>'0',
	'default_billing_1059'=>'0',
	'default_shipping_1059'=>'0',
	'label'=>'',
	'address'=>'',
	'city'=>'',
	'region_id'=>'0',
	'postal_code'=>'',
	'telephone'=>'',
	'fax'=>'',
	'delivery_instructions'=>'',
	'latitude'=>'',
	'longitude'=>'',
	'address_id'=>'',
	'order_minimum'=>'0',
	'fee_percen_lo'=>'10.00',
	'fee_percen_hub'=>'5.00',
	'paypal_processing_fee'=>'3.00',
	'hub_covers_fees'=>'0',
	'payment_allow_paypal'=>'1',
	'payment_allow_purchaseorder'=>'1',
	'po_due_within_days'=>'0',
	'payment_default_paypal'=>'1',
	'payment_default_purchaseorder'=>'0',
	'seller_payer_lo'=>'0',
	'seller_payer_hub'=>'1',
	'buyer_invoicer_lo'=>'0',
	'buyer_invoicer_hub'=>'1',
	'accept_products_from_1'=>'0',
	'accept_products_from_28'=>'0',
	'accept_products_from_29'=>'0',
	'accept_products_from_2'=>'0',
	'accept_products_from_3'=>'0',
	'accept_products_from_4'=>'0',
	'accept_products_from_5'=>'0',
	'accept_products_from_6'=>'0',
	'accept_products_from_7'=>'0',
	'accept_products_from_8'=>'0',
	'accept_products_from_9'=>'0',
	'accept_products_from_10'=>'0',
	'accept_products_from_11'=>'0',
	'accept_products_from_22'=>'0',
	'accept_products_from_12'=>'0',
	'accept_products_from_13'=>'0',
	'accept_products_from_14'=>'0',
	'accept_products_from_15'=>'0',
	'accept_products_from_16'=>'0',
	'accept_products_from_17'=>'0',
	'accept_products_from_18'=>'0',
	'accept_products_from_19'=>'0',
	'accept_products_from_20'=>'0',
	'accept_products_from_21'=>'0',
	'accept_products_from_23'=>'0',
	'accept_products_from_24'=>'0',
	'accept_products_from_25'=>'1',
	'accept_products_from_26'=>'0',
	'accept_products_from_27'=>'0',
	'accept_products_from_30'=>'0',
	'feature_require_seller_all_delivery_opts'=>'0',
	'feature_force_items_to_soonest_delivery'=>'0',
	'feature_sellers_enter_price_without_fees'=>'0',
	'feature_sellers_cannot_manage_cross_sells'=>'0',
	'feature_sellers_mark_items_delivered'=>'1',
	'save'=>'',
	'domain_id'=>'26',
	'org_id'=>'1014',
	'do_redirect'=>'1',
);
		$req = core_test_request::do_request('market/save',$data);
		if (!$req->notified('hub saved')) {
			return $this->fail('Does not save temp hub information correctly.');
		}
 		if (core_test_request::do_request('market/edit', array('domain_id' => 26))->not_contains('Z01 - [*]')) {
			return $this->fail('Does not save temp hub information correctly.');
		}	
	}
}

?>
